{% extends "base.html" %}
{% block content %}
   {% include 'nav_bar.html' %}
   <div class="container mt-4" id="form_template">
       <h1>{{ product.name }}</h1>
       
       <div id="imageSlideShow" class="carousel slide" data-ride="carousel">
           <div class="carousel-inner">
               {% for image in product.images %}
               <div class="carousel-item {{ 'active' if loop.index == 1 else ''}}" style="height: 25em; overflow: hidden; border:1em; background-color:#56355a;">
                   <img src="../static/{{ image }}" alt="{{ product.name }}" id="image_fit" class="d-block w-100">
               </div>
               {% endfor %}
           </div>

           {% if image_count > 1 %}
               <a class="carousel-control-prev" href="#imageSlideShow" role="button" data-slide="prev">
                   <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                   <span class="sr-only">Previous</span>
               </a>
               <a class="carousel-control-next" href="#imageSlideShow" role="button" data-slide="next">
                   <span class="carousel-control-next-icon" aria-hidden="true"></span>
                   <span class="sr-only">Next</span>
               </a>
           {% endif %}
       </div>

       <div class="row mt-4">
           <div class="col-md-9">
                <h2>Product Details</h2>
                <p>{{ product.description }}</p>

                <br>
               
                <h2>Seller Details</h2>
                <p>
                   <strong>Name:</strong>     {{ seller.business_name}}<br>
                   <strong>Phone:</strong>     {{ seller.business_phone}}<br>
                   <strong>Email:</strong>     {{ seller.business_email}}<br>
                   <strong>Address:</strong>     {{ seller.business_address}}<br>
                   <strong>Country:</strong>     {{ seller.country }}<br>
                </p>
           </div>
           
           <div class="col-md-3" style="text-align:right;">
               <div class="card" style="height:100%;">
                   <div class="card-body">
                       <h3>Â£{{ product.price }}</h3>
                       <div class="mb-3" style="font-size:1em;">
                           {% if product.in_stock %}
                               <span class="badge badge-success d-block w-100">In Stock</span>
                               <div class="form-group mt-3" style="padding:0;">
                                   <select class="form-control" id="quantity" name="quantity">
                                       {% for i in range(1, product.quantity + 1) %}
                                           {% if i <= 10 %}
                                               <option value="{{ i }}">{{ i }}</option>
                                           {% endif %}
                                       {% endfor %}
                                   </select>
                               </div>
                           {% else %}
                               <span class="badge badge-danger d-block w-100">Out of Stock</span>
                           {% endif %}
                       </div>
                       
                       {% if product.in_stock %}
                           <form method="POST">
                               <button type="submit" name="addToCart" class="btn btn-primary" style="width:100%; font-size:0.8em; margin-bottom:0.7em;">Add to Cart</button>
                           </form>
                       {% endif %}
                       <form method="POST">
                           <button type="submit" name="addToWishlist" class="btn btn-primary" style="width:100%; font-size:0.8em;">Add to Wishlist</button>
                       </form>
                   </div>
               </div>
           </div>
       </div>
   </div>
{% endblock %}